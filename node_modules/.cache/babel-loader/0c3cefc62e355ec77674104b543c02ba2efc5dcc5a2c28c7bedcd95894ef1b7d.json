{"ast":null,"code":"import statuses from \"@bundled-es-modules/statuses\";\nimport { Headers as HeadersPolyfill } from \"headers-polyfill\";\nconst {\n  message\n} = statuses;\nfunction normalizeResponseInit(init = {}) {\n  const status = init?.status || 200;\n  const statusText = init?.statusText || message[status] || \"\";\n  const headers = new Headers(init?.headers);\n  return {\n    ...init,\n    headers,\n    status,\n    statusText\n  };\n}\nfunction decorateResponse(response, init) {\n  if (init.type) {\n    Object.defineProperty(response, \"type\", {\n      value: init.type,\n      enumerable: true,\n      writable: false\n    });\n  }\n  if (typeof document !== \"undefined\") {\n    const responseCookies = HeadersPolyfill.prototype.getSetCookie.call(init.headers);\n    for (const cookieString of responseCookies) {\n      document.cookie = cookieString;\n    }\n  }\n  return response;\n}\nexport { decorateResponse, normalizeResponseInit };","map":{"version":3,"names":["statuses","Headers","HeadersPolyfill","message","normalizeResponseInit","init","status","statusText","headers","decorateResponse","response","type","Object","defineProperty","value","enumerable","writable","document","responseCookies","prototype","getSetCookie","call","cookieString","cookie"],"sources":["C:\\Users\\82108\\Desktop\\taveband\\taveband\\node_modules\\msw\\src\\core\\utils\\HttpResponse\\decorators.ts"],"sourcesContent":["import statuses from '@bundled-es-modules/statuses'\nimport type { HttpResponseInit } from '../../HttpResponse'\nimport { Headers as HeadersPolyfill } from 'headers-polyfill'\n\nconst { message } = statuses\n\nexport interface HttpResponseDecoratedInit extends HttpResponseInit {\n  status: number\n  statusText: string\n  headers: Headers\n}\n\nexport function normalizeResponseInit(\n  init: HttpResponseInit = {},\n): HttpResponseDecoratedInit {\n  const status = init?.status || 200\n  const statusText = init?.statusText || message[status] || ''\n  const headers = new Headers(init?.headers)\n\n  return {\n    ...init,\n    headers,\n    status,\n    statusText,\n  }\n}\n\nexport function decorateResponse(\n  response: Response,\n  init: HttpResponseDecoratedInit,\n): Response {\n  // Allow to mock the response type.\n  if (init.type) {\n    Object.defineProperty(response, 'type', {\n      value: init.type,\n      enumerable: true,\n      writable: false,\n    })\n  }\n\n  // Cookie forwarding is only relevant in the browser.\n  if (typeof document !== 'undefined') {\n    // Write the mocked response cookies to the document.\n    // Use `headers-polyfill` to get the Set-Cookie header value correctly.\n    // This is an alternative until TypeScript 5.2\n    // and Node.js v20 become the minimum supported version\n    // and getSetCookie in Headers can be used directly.\n    const responseCookies = HeadersPolyfill.prototype.getSetCookie.call(\n      init.headers,\n    )\n\n    for (const cookieString of responseCookies) {\n      // No need to parse the cookie headers because it's defined\n      // as the valid cookie string to begin with.\n      document.cookie = cookieString\n    }\n  }\n\n  return response\n}\n"],"mappings":"AAAA,OAAOA,QAAA,MAAc;AAErB,SAASC,OAAA,IAAWC,eAAA,QAAuB;AAE3C,MAAM;EAAEC;AAAQ,IAAIH,QAAA;AAQb,SAASI,sBACdC,IAAA,GAAyB,CAAC,GACC;EAC3B,MAAMC,MAAA,GAASD,IAAA,EAAMC,MAAA,IAAU;EAC/B,MAAMC,UAAA,GAAaF,IAAA,EAAME,UAAA,IAAcJ,OAAA,CAAQG,MAAM,KAAK;EAC1D,MAAME,OAAA,GAAU,IAAIP,OAAA,CAAQI,IAAA,EAAMG,OAAO;EAEzC,OAAO;IACL,GAAGH,IAAA;IACHG,OAAA;IACAF,MAAA;IACAC;EACF;AACF;AAEO,SAASE,iBACdC,QAAA,EACAL,IAAA,EACU;EAEV,IAAIA,IAAA,CAAKM,IAAA,EAAM;IACbC,MAAA,CAAOC,cAAA,CAAeH,QAAA,EAAU,QAAQ;MACtCI,KAAA,EAAOT,IAAA,CAAKM,IAAA;MACZI,UAAA,EAAY;MACZC,QAAA,EAAU;IACZ,CAAC;EACH;EAGA,IAAI,OAAOC,QAAA,KAAa,aAAa;IAMnC,MAAMC,eAAA,GAAkBhB,eAAA,CAAgBiB,SAAA,CAAUC,YAAA,CAAaC,IAAA,CAC7DhB,IAAA,CAAKG,OACP;IAEA,WAAWc,YAAA,IAAgBJ,eAAA,EAAiB;MAG1CD,QAAA,CAASM,MAAA,GAASD,YAAA;IACpB;EACF;EAEA,OAAOZ,QAAA;AACT","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}